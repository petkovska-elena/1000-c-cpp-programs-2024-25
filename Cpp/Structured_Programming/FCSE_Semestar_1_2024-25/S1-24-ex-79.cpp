//
// Created by Elena Petkovska on 8.4.25.
//

/* Kolokviumski zadaci */

/* Производ-рабен број на даден број се смета бројот за кој последните 2 цифри од првичниот број ќе се заменат со нивниот производ.
 * Така на пример производ-рабен број на 187478 е 187456 (последните две цифри 7 и 8 се множат и се добива 56).
 * Дополнително, доколку некој од множителите (последните 2 цифри) е цифрата 0, таа се заменува со 1.
 * Постапката може да се повтори за секој новодобиен број се додека се добива повеќецифрен број (број кој има повеќе од 1 цифра).
 * Едноцифрениот број кој се добива преку повторување на постапката се нарекува краен производ-рабен број.
 * Од тастатура се внесуваат непознат број на цели броеви се додека не се внесе нешто различно од број.
 * За секој од внесените броеви треба да се испечатат сите производ-рабни броеви се’ додека не се добие крајниот производ-рабен број.
 * Објаснување:
 * 123456789 – последните 2 цифри (8 и 9) се заменуваат со нивниот производ (72) и се добива 123456772
 * Потоа постапката се повторува:
* 123456772 -> 123456714
*              123456714 -> 12345674
*                           12345674 -> 12345628
*                                       12345628 -> 12345616
*                                                   12345616 -> 1234566
*                                                               1234566 -> 1234536
*                                                                          1234536 -> 1234518
*                                                                                     1234518 -> 123458
*                                                                                                123458 -> 123440
*                                                                                                          123440 -> 12344
*                                                                                                                    12344 -> 12316
*                                                                                                                             12316 -> 1236
*                                                                                                                                      1236 -> 128
*                                                                                                                                              128 -> 116
*                                                                                                                                                     116 -> 16
*                                                                                                                                                            16 -> 6 */



#include <iostream>
using namespace std;

int product_raben_broj(int n) {
    int last = n % 10;
    int second_last = (n / 10) % 10;

    if (last == 0) last = 1;
    if (second_last == 0) second_last = 1;

    int product = second_last * last;
    int rest = n / 100;

    if (product < 10)
        return rest * 10 + product;
    else
        return rest * 100 + product;
}

int main() {
    int num;

    cout << "Vnesuvaj broevi. Za prekin, vnesi karakter koj shto ne e broj: " << endl;

    while (cin >> num) {
        int steps = 0;
        cout << "Transformacii za brojot:" << endl;

        while (num >= 10) {
            int next = product_raben_broj(num);
            cout << num << " -> " << next << endl;

            if (next == num) break;

            num = next;
            steps++;
        }

        cout << "Kraen proizvod-raben broj: " << num << " (vo " << steps << " cekori)" << endl;
    }

    return 0;
}
